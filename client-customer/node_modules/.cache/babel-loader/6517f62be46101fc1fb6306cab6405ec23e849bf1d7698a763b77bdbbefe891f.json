{"ast":null,"code":"import React,{Component}from'react';import MyContext from'../contexts/MyContext';import CartUtil from'../utils/CartUtil';import axios from'axios';import withRouter from'../utils/withRouter';import{Link}from'react-router-dom';import'../Css/Mycart.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";class Mycart extends Component{constructor(props){super(props);this.state={successMessage:'',orderId:null,productIds:[],// Collect product IDs\nproductDetails:[]// Add this state to store product details\n};}formatPrice(price){return new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'}).format(price);}render(){const mycart=this.context.mycart.map((item,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{className:\"datatable\",children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.product._id}),/*#__PURE__*/_jsx(\"td\",{children:item.product.name}),/*#__PURE__*/_jsx(\"td\",{children:item.product.category.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpg;base64,\"+item.product.image,width:\"70px\",height:\"70px\",alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:this.formatPrice(item.product.price)}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsx(\"td\",{children:this.formatPrice(item.product.price*item.quantity)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"link\",onClick:()=>this.lnkRemoveClick(item.product._id),children:\"DELETE\"})})]},item.product._id);});return/*#__PURE__*/_jsx(\"div\",{className:\"align-center\",children:this.state.successMessage?/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u2714\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Thanh to\\xE1n th\\xE0nh c\\xF4ng\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"M\\xE3 s\\u1ED1 \\u0111\\u01A1n h\\xE0ng c\\u1EE7a b\\u1EA1n l\\xE0 \",/*#__PURE__*/_jsx(\"span\",{className:\"order-id\",children:this.state.orderId})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m c\\u1EE7a \\u0111\\u01A1n h\\xE0ng:\"}),/*#__PURE__*/_jsx(\"ul\",{children:this.state.productDetails.map((product,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpg;base64,\"+product.image,alt:product.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",product.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"T\\xEAn s\\u1EA3n ph\\u1EA9m: \",product.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Gi\\xE1: \",this.formatPrice(product.price)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"S\\u1ED1 l\\u01B0\\u1EE3ng: \",product.quantity]})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chitiet\",children:[\"B\\u1EA1n c\\xF3 th\\u1EC3 xem chi ti\\u1EBFt trong \",/*#__PURE__*/_jsx(Link,{to:\"/myorders\",children:\"\\u0111\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.props.navigate('/home'),children:\"TI\\u1EBEP T\\u1EE4C MUA H\\xC0NG\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center-itemlist\",style:{color:'orange',animation:'color-change 1s infinite'},children:\"ITEM LIST\"}),/*#__PURE__*/_jsx(\"table\",{className:\"datatable\",border:\"1\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"datatable\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]}),mycart,/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"td\",{children:this.formatPrice(CartUtil.getTotal(this.context.mycart))}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"link-checkout\",onClick:()=>this.lnkCheckoutClick(),children:\"CHECKOUT\"})})]})]})})]})});}// event-handlers\nlnkRemoveClick(id){if(window.confirm('DELETE THIS ITEM? ARE YOU SURE?')){const mycart=this.context.mycart;const index=mycart.findIndex(x=>x.product._id===id);if(index!==-1){// found, remove item\nmycart.splice(index,1);this.context.setMycart(mycart);}}}lnkCheckoutClick(){if(window.confirm('ARE YOU SURE?')){if(this.context.mycart.length>0){const total=CartUtil.getTotal(this.context.mycart);const items=this.context.mycart;const customer=this.context.customer;if(customer){if(this.context.token){console.log(\"Token is valid:\",this.context.token);this.apiCheckout(total,items,customer);}else{console.log(\"Invalid or missing token\");this.props.navigate('/login');}}else{this.props.navigate('/login');}}else{alert('Your cart is empty');}}}// apis\napiCheckout(total,items,customer){const productDetails=items.map(item=>({id:item.product._id,name:item.product.name,price:item.product.price,quantity:item.quantity,image:item.product.image}));const body={total:total,items:items,customer:customer};const config={headers:{'x-access-token':this.context.token}};console.log(\"API Request Body:\",body);axios.post('/api/customer/checkout',body,config).then(res=>{console.log(\"API Response:\",res.data);const result=res.data;if(result&&result._id){this.setState({successMessage:'Checkout successful! Thank you for your purchase.',orderId:result._id,productDetails:productDetails});this.context.setMycart([]);}else{alert('SORRY BABY!');}}).catch(error=>{console.error(\"API Error:\",error);// Check if the error response indicates a token issue\nif(error.response&&error.response.status===401){this.props.navigate('/login');}else{alert('An error occurred during checkout. Please try again.');}});}}Mycart.contextType=MyContext;export default withRouter(Mycart);","map":{"version":3,"names":["React","Component","MyContext","CartUtil","axios","withRouter","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Mycart","constructor","props","state","successMessage","orderId","productIds","productDetails","formatPrice","price","Intl","NumberFormat","style","currency","format","render","mycart","context","map","item","index","className","children","product","_id","name","category","src","image","width","height","alt","quantity","onClick","lnkRemoveClick","id","to","navigate","color","animation","border","colSpan","getTotal","lnkCheckoutClick","window","confirm","findIndex","x","splice","setMycart","length","total","items","customer","token","console","log","apiCheckout","alert","body","config","headers","post","then","res","data","result","setState","catch","error","response","status","contextType"],"sources":["T:/DinhThien/Bai tap/Lập trình web/WebShoppineOnline-MERN-main/WebShoppineOnline-MERN-main/client-customer/src/components/MycartComponent.js"],"sourcesContent":["import React, { Component } from 'react';\nimport MyContext from '../contexts/MyContext';\nimport CartUtil from '../utils/CartUtil';\nimport axios from 'axios';\nimport withRouter from '../utils/withRouter';\nimport { Link } from 'react-router-dom';\nimport '../Css/Mycart.css';\n\nclass Mycart extends Component {\n  static contextType = MyContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      successMessage: '',\n      orderId: null,\n      productIds: [], // Collect product IDs\n      productDetails: [] // Add this state to store product details\n    };\n  }\n\n  formatPrice(price) {\n    return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(price);\n  }\n\n render() {\n  const mycart = this.context.mycart.map((item, index) => {\n    return (\n      <tr key={item.product._id} className=\"datatable\">\n        <td>{index + 1}</td>\n        <td>{item.product._id}</td>\n        <td>{item.product.name}</td>\n        <td>{item.product.category.name}</td>\n        <td><img src={\"data:image/jpg;base64,\" + item.product.image} width=\"70px\" height=\"70px\" alt=\"\" /></td>\n        <td>{this.formatPrice(item.product.price)}</td>\n        <td>{item.quantity}</td>\n        <td>{this.formatPrice(item.product.price * item.quantity)}</td>\n        <td><span className=\"link\" onClick={() => this.lnkRemoveClick(item.product._id)}>DELETE</span></td>\n      </tr>\n    );\n  });\n\n  return (\n    <div className=\"align-center\">\n      {this.state.successMessage ? (\n        <div className=\"success-message\">\n          <div className=\"success-icon\">\n            <span>&#10004;</span>\n          </div>\n          <h2>Thanh toán thành công</h2>\n          <p>Mã số đơn hàng của bạn là <span className=\"order-id\">{this.state.orderId}</span></p>\n          <p>Chi tiết sản phẩm của đơn hàng:</p>\n          <ul>\n            {this.state.productDetails.map((product, index) => (\n              <li key={index}>\n                <img src={\"data:image/jpg;base64,\" + product.image} alt={product.name} />\n                <div>\n                  <p>ID: {product.id}</p>\n                  <p>Tên sản phẩm: {product.name}</p>\n                  <p>Giá: {this.formatPrice(product.price)}</p>\n                  <p>Số lượng: {product.quantity}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n          <div className='chitiet'>\n            Bạn có thể xem chi tiết trong <Link to=\"/myorders\">đơn hàng của tôi</Link>\n          </div>\n          <button onClick={() => this.props.navigate('/home')}>TIẾP TỤC MUA HÀNG</button>\n        </div>\n      ) : (\n        <>\n          <h2 className=\"text-center-itemlist\" style={{ color: 'orange', animation: 'color-change 1s infinite' }}>ITEM LIST</h2>\n          <table className=\"datatable\" border=\"1\">\n            <tbody>\n              <tr className=\"datatable\">\n                <th>No.</th>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Category</th>\n                <th>Image</th>\n                <th>Price</th>\n                <th>Quantity</th>\n                <th>Amount</th>\n                <th>Action</th>\n              </tr>\n              {mycart}\n              <tr>\n                <td colSpan=\"6\"></td>\n                <td>Total</td>\n                <td>{this.formatPrice(CartUtil.getTotal(this.context.mycart))}</td>\n                <td><span className=\"link-checkout\" onClick={() => this.lnkCheckoutClick()}>CHECKOUT</span></td>\n              </tr>\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n}\n\n\n  // event-handlers\n  lnkRemoveClick(id) {\n    if (window.confirm('DELETE THIS ITEM? ARE YOU SURE?')) {\n      const mycart = this.context.mycart;\n      const index = mycart.findIndex(x => x.product._id === id);\n      if (index !== -1) { // found, remove item\n        mycart.splice(index, 1);\n        this.context.setMycart(mycart);\n      }\n    }\n  }\n\n  lnkCheckoutClick() {\n    if (window.confirm('ARE YOU SURE?')) {\n      if (this.context.mycart.length > 0) {\n        const total = CartUtil.getTotal(this.context.mycart);\n        const items = this.context.mycart;\n        const customer = this.context.customer;\n        if (customer) {\n          if (this.context.token) {\n            console.log(\"Token is valid:\", this.context.token);\n            this.apiCheckout(total, items, customer);\n          } else {\n            console.log(\"Invalid or missing token\");\n            this.props.navigate('/login');\n          }\n        } else {\n          this.props.navigate('/login');\n        }\n      } else {\n        alert('Your cart is empty');\n      }\n    }\n  }  \n\n  // apis\n  apiCheckout(total, items, customer) {\n    const productDetails = items.map(item => ({\n      id: item.product._id,\n      name: item.product.name,\n      price: item.product.price,\n      quantity: item.quantity,\n      image: item.product.image\n    }));\n    const body = { total: total, items: items, customer: customer };\n    const config = { headers: { 'x-access-token': this.context.token } };\n    console.log(\"API Request Body:\", body);\n    axios.post('/api/customer/checkout', body, config).then((res) => {\n      console.log(\"API Response:\", res.data);\n      const result = res.data;\n      if (result && result._id) {\n        this.setState({ \n          successMessage: 'Checkout successful! Thank you for your purchase.',\n          orderId: result._id,\n          productDetails: productDetails\n        });\n        this.context.setMycart([]);\n      } else {\n        alert('SORRY BABY!');\n      }\n    }).catch(error => {\n      console.error(\"API Error:\", error);\n      // Check if the error response indicates a token issue\n      if (error.response && error.response.status === 401) {\n        this.props.navigate('/login');\n      } else {\n        alert('An error occurred during checkout. Please try again.');\n      }\n    });\n  }\n  \n  \n}\n\nexport default withRouter(Mycart);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}