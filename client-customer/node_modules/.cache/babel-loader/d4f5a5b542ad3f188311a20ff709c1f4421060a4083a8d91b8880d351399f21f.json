{"ast":null,"code":"import axios from'axios';import React,{Component}from'react';import MyContext from'../contexts/MyContext';import withRouter from'../utils/withRouter';import{toast}from'react-toastify';import{Link}from'react-router-dom';import{FaUser,FaLock}from'react-icons/fa';import'../Css/Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Login extends Component{// using this.context to access global state\nconstructor(props){super(props);this.state={txtUsername:'',txtPassword:''};}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"alignCenter\",children:[\" \",/*#__PURE__*/_jsxs(\"video\",{autoPlay:true,muted:true,loop:true,children:[/*#__PURE__*/_jsx(\"source\",{src:\"video5.mp4\",type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loginImgContainer\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/256/7381/7381253.png\",alt:\"Login\",className:\"loginImage\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"CUSTOMER LOGIN\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(FaUser,{className:\"icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:this.state.txtUsername,onChange:e=>{this.setState({txtUsername:e.target.value});},className:\"input\"// Apply input style\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(FaLock,{className:\"icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:this.state.txtPassword,onChange:e=>{this.setState({txtPassword:e.target.value});},className:\"input\"// Apply input style\n})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputGroup\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"LOGIN\",onClick:e=>this.btnLoginClick(e),className:\"submitButton\"// Apply submitButton style\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"forgotPassword\",children:/*#__PURE__*/_jsx(Link,{to:\"/resetpwd\",className:\"forgotPasswordLink\",children:\"Forgot Username / Password?\"})})]})]})]});}// event-handlers\nbtnLoginClick(e){e.preventDefault();const username=this.state.txtUsername;const password=this.state.txtPassword;if(username&&password){const account={username:username,password:password};this.apiLogin(account);}else{toast.warning('Please input username and password');}}// apis\napiLogin(account){axios.post('/api/customer/login',account).then(res=>{const result=res.data;if(result.success===true){this.context.setToken(result.token);this.context.setCustomer(result.customer);this.props.navigate('/home');toast.success('Welcome to ShoppingOnline');}else{toast.error(result.message);}});}}Login.contextType=MyContext;export default withRouter(Login);","map":{"version":3,"names":["axios","React","Component","MyContext","withRouter","toast","Link","FaUser","FaLock","jsx","_jsx","jsxs","_jsxs","Login","constructor","props","state","txtUsername","txtPassword","render","className","children","autoPlay","muted","loop","src","type","alt","placeholder","value","onChange","e","setState","target","onClick","btnLoginClick","to","preventDefault","username","password","account","apiLogin","warning","post","then","res","result","data","success","context","setToken","token","setCustomer","customer","navigate","error","message","contextType"],"sources":["T:/DinhThien/Bai tap/Lập trình web/WebShoppineOnline-MERN-main/WebShoppineOnline-MERN-main/client-customer/src/components/LoginComponent.js"],"sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport MyContext from '../contexts/MyContext';\nimport withRouter from '../utils/withRouter';\nimport { toast } from 'react-toastify';\nimport { Link } from 'react-router-dom';\nimport { FaUser, FaLock } from 'react-icons/fa';\nimport '../Css/Login.css'; \n\nclass Login extends Component {\n  static contextType = MyContext; // using this.context to access global state\n  constructor(props) {\n    super(props);\n    this.state = {\n      txtUsername: '',\n      txtPassword: ''\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"alignCenter\"> {/* Use className for applying styles */}\n        <video autoPlay muted loop>\n    <source src=\"video5.mp4\" type=\"video/mp4\" />\n    Your browser does not support the video tag.\n  </video>\n        <div className=\"loginContainer\">\n          <div className=\"loginImgContainer\">\n            <img src=\"https://cdn-icons-png.flaticon.com/256/7381/7381253.png\" alt=\"Login\" className=\"loginImage\" />\n          </div>\n          <h2 className=\"title\">CUSTOMER LOGIN</h2>\n          <form>\n            <div className=\"inputGroup\">\n              <FaUser className=\"icon\" />\n              <input\n                type=\"text\"\n                placeholder=\"Username\"\n                value={this.state.txtUsername}\n                onChange={(e) => {\n                  this.setState({ txtUsername: e.target.value });\n                }}\n                className=\"input\" // Apply input style\n              />\n            </div>\n            <div className=\"inputGroup\">\n              <FaLock className=\"icon\" />\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={this.state.txtPassword}\n                onChange={(e) => {\n                  this.setState({ txtPassword: e.target.value });\n                }}\n                className=\"input\" // Apply input style\n              />\n            </div>\n            <div className=\"inputGroup\">\n              <input\n                type=\"submit\"\n                value=\"LOGIN\"\n                onClick={(e) => this.btnLoginClick(e)}\n                className=\"submitButton\" // Apply submitButton style\n              />\n            </div>\n            <div className=\"forgotPassword\">\n              <Link to=\"/resetpwd\" className=\"forgotPasswordLink\">\n                Forgot Username / Password?\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  // event-handlers\n  btnLoginClick(e) {\n    e.preventDefault();\n    const username = this.state.txtUsername;\n    const password = this.state.txtPassword;\n    if (username && password) {\n      const account = { username: username, password: password };\n      this.apiLogin(account);\n    } else {\n      toast.warning('Please input username and password');\n    }\n  }\n\n  // apis\n  apiLogin(account) {\n    axios.post('/api/customer/login', account).then((res) => {\n      const result = res.data;\n      if (result.success === true) {\n        this.context.setToken(result.token);\n        this.context.setCustomer(result.customer);\n        this.props.navigate('/home');\n        toast.success('Welcome to ShoppingOnline');\n      } else {\n        toast.error(result.message);\n      }\n    });\n  }\n}\n\nexport default withRouter(Login);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}